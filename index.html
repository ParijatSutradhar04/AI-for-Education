<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Education Assistant</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <!-- Header Section -->
    <div class="header">
        <div class="header-content">
            <div class="header-title">
                <h1><i class="fas fa-graduation-cap"></i> AI Education Assistant</h1>
            </div>
            <div class="header-controls">
                <div class="upload-controls">
                    <div class="upload-area-header" id="uploadArea">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <span>Drop PDFs or click to upload</span>
                        <input type="file" id="pdfInput" accept=".pdf" multiple hidden>
                    </div>
                </div>
                <div class="dropdown-group">
                    <label for="teacherLanguage">Teacher's Language</label>
                    <select id="teacherLanguage" class="dropdown">
                        <option value="english">English</option>
                        <option value="hindi">Hindi</option>
                        <option value="bengali">Bengali</option>
                        <option value="tamil">Tamil</option>
                        <option value="telugu">Telugu</option>
                        <option value="marathi">Marathi</option>
                        <option value="gujarati">Gujarati</option>
                        <option value="kannada">Kannada</option>
                        <option value="malayalam">Malayalam</option>
                        <option value="punjabi">Punjabi</option>
                    </select>
                </div>
                <div class="dropdown-group">
                    <label for="studentLanguage">Student's Language</label>
                    <select id="studentLanguage" class="dropdown">
                        <option value="english">English</option>
                        <option value="hindi">Hindi</option>
                        <option value="bengali">Bengali</option>
                        <option value="tamil">Tamil</option>
                        <option value="telugu">Telugu</option>
                        <option value="marathi">Marathi</option>
                        <option value="gujarati">Gujarati</option>
                        <option value="kannada">Kannada</option>
                        <option value="malayalam">Malayalam</option>
                        <option value="punjabi">Punjabi</option>
                    </select>
                </div>
                <div class="dropdown-group">
                    <label for="classLevel">Class</label>
                    <select id="classLevel" class="dropdown">
                        <option value="1">Class 1</option>
                        <option value="2">Class 2</option>
                        <option value="3">Class 3</option>
                        <option value="4">Class 4</option>
                        <option value="5">Class 5</option>
                        <option value="6" selected>Class 6</option>
                        <option value="7">Class 7</option>
                        <option value="8">Class 8</option>
                        <option value="9">Class 9</option>
                        <option value="10">Class 10</option>
                    </select>
                </div>
                <div class="dropdown-group">
                    <label for="classStrength">Class Strength</label>
                    <select id="classStrength" class="dropdown">
                        <option value="10">10 students</option>
                        <option value="15">15 students</option>
                        <option value="20">20 students</option>
                        <option value="25">25 students</option>
                        <option value="30" selected>30 students</option>
                        <option value="35">35 students</option>
                        <option value="40">40 students</option>
                        <option value="45">45 students</option>
                        <option value="50">50 students</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Settings Toggle Button -->
    <button class="mobile-settings-toggle" id="mobileSettingsToggle">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Settings Overlay for Mobile -->
    <div class="settings-overlay" id="settingsOverlay">
        <div class="settings-panel">
            <div class="settings-header">
                <h3><i class="fas fa-cog"></i> Settings</h3>
                <button class="settings-close" id="settingsClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="mobile-upload-section" id="mobileUploadArea">
                <i class="fas fa-cloud-upload-alt"></i>
                <span>Tap to upload PDF files</span>
            </div>
            
            <div class="mobile-dropdown-section">
                <label for="mobileTeacherLanguage">Teacher's Language</label>
                <select id="mobileTeacherLanguage" class="mobile-dropdown">
                    <option value="english">English</option>
                    <option value="hindi">Hindi</option>
                    <option value="bengali">Bengali</option>
                    <option value="tamil">Tamil</option>
                    <option value="telugu">Telugu</option>
                    <option value="marathi">Marathi</option>
                    <option value="gujarati">Gujarati</option>
                    <option value="kannada">Kannada</option>
                    <option value="malayalam">Malayalam</option>
                    <option value="punjabi">Punjabi</option>
                </select>
            </div>
            
            <div class="mobile-dropdown-section">
                <label for="mobileStudentLanguage">Student's Language</label>
                <select id="mobileStudentLanguage" class="mobile-dropdown">
                    <option value="english">English</option>
                    <option value="hindi">Hindi</option>
                    <option value="bengali">Bengali</option>
                    <option value="tamil">Tamil</option>
                    <option value="telugu">Telugu</option>
                    <option value="marathi">Marathi</option>
                    <option value="gujarati">Gujarati</option>
                    <option value="kannada">Kannada</option>
                    <option value="malayalam">Malayalam</option>
                    <option value="punjabi">Punjabi</option>
                </select>
            </div>
            
            <div class="mobile-dropdown-section">
                <label for="mobileClassLevel">Class</label>
                <select id="mobileClassLevel" class="mobile-dropdown">
                    <option value="1">Class 1</option>
                    <option value="2">Class 2</option>
                    <option value="3">Class 3</option>
                    <option value="4">Class 4</option>
                    <option value="5">Class 5</option>
                    <option value="6" selected>Class 6</option>
                    <option value="7">Class 7</option>
                    <option value="8">Class 8</option>
                    <option value="9">Class 9</option>
                    <option value="10">Class 10</option>
                </select>
            </div>
            
            <div class="mobile-dropdown-section">
                <label for="mobileClassStrength">Class Strength</label>
                <select id="mobileClassStrength" class="mobile-dropdown">
                    <option value="10">10 students</option>
                    <option value="15">15 students</option>
                    <option value="20">20 students</option>
                    <option value="25">25 students</option>
                    <option value="30" selected>30 students</option>
                    <option value="35">35 students</option>
                    <option value="40">40 students</option>
                    <option value="45">45 students</option>
                    <option value="50">50 students</option>
                </select>
            </div>
        </div>
    </div>

    <div class="main-container">
        <!-- Left Panel - PDF Preview with Canvas Toggle -->
        <div class="left-panel active" id="leftPanel">
            <div class="panel-header">
                <h3 id="leftPanelTitle"><i class="fas fa-file-pdf"></i> PDF Viewer</h3>
                <div class="panel-toggle-controls">
                    <button id="showPdfBtn" class="toggle-btn active">
                        <i class="fas fa-file-pdf"></i> PDF
                    </button>
                    <button id="showCanvasBtn" class="toggle-btn">
                        <i class="fas fa-edit"></i> Canvas
                    </button>
                    <button id="downloadCanvasBtn" class="download-btn" style="display: none;">
                        <i class="fas fa-download"></i> Download PDF
                    </button>
                </div>
            </div>
            
            <!-- PDF Preview Section -->
            <div class="pdf-preview-section" id="pdfPreviewSection" style="display: none;">
                <div class="pdf-controls">
                    <select id="pdfSelector" class="pdf-selector">
                        <!-- PDF options will be populated here -->
                    </select>
                    <div class="controls-row">
                        <div class="page-controls">
                            <button id="prevPage" class="page-btn"><i class="fas fa-chevron-left"></i></button>
                            <span class="page-info">
                                Page <span id="currentPage">1</span> of <span id="totalPages">1</span>
                            </span>
                            <button id="nextPage" class="page-btn"><i class="fas fa-chevron-right"></i></button>
                        </div>
                        <div class="zoom-controls">
                            <button id="zoomOut" class="zoom-btn"><i class="fas fa-search-minus"></i></button>
                            <span class="zoom-info" id="zoomInfo">100%</span>
                            <button id="zoomIn" class="zoom-btn"><i class="fas fa-search-plus"></i></button>
                            <button id="fitToWidth" class="fit-btn">Fit Width</button>
                        </div>
                    </div>
                </div>
                <div class="pdf-viewer">
                    <div class="pdf-canvas-container">
                        <canvas id="pdfCanvas"></canvas>
                    </div>
                </div>
            </div>
            
            <!-- Canvas Section -->
            <div class="canvas-section" id="canvasSection" style="display: none;">
                <div class="canvas-container">
                    <div class="canvas-content" id="canvasContent">
                        <div class="canvas-placeholder">
                            <i class="fas fa-edit"></i>
                            <p>Your AI responses will appear here</p>
                            <small>Ask questions in the chat to see structured responses you can save</small>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- No PDF Uploaded Message -->
            <div class="no-pdf-message" id="noPdfMessage">
                <i class="fas fa-file-pdf"></i>
                <p>No PDF uploaded</p>
                <small>Use the settings menu to upload PDF files</small>
            </div>
        </div>

        <!-- Right Panel - Expanded Chat Interface -->
        <div class="right-panel expanded" id="chatPanel">
            <div class="panel-header">
                <h3><i class="fas fa-comments"></i> AI Assistant</h3>
            </div>
            
            <!-- Chat Messages Area -->
            <div class="chat-messages" id="chatMessages">
                <div class="message bot-message">
                    <div class="message-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="message-content">
                        <p>👋 Hello! I'm your AI Education Assistant. Upload PDF materials and ask me questions to get structured lesson plans, teaching strategies, and educational insights.</p>
                        <p><strong>Try these sample questions:</strong></p>
                        <ul>
                            <li>💡 "Create a lesson plan for this topic"</li>
                            <li>🌐 "Help with multilingual instruction"</li>
                            <li>🎨 "Generate visual aids for this content"</li>
                            <li>📊 "Suggest assessment strategies"</li>
                        </ul>
                    </div>
                    <div class="message-time">Just now</div>
                </div>
            </div>

            <!-- Chat Input Area -->
            <div class="chat-input-area">
                <div class="input-container">
                    <textarea 
                        id="messageInput" 
                        placeholder="Ask me about your uploaded materials..."
                        rows="1"
                    ></textarea>
                    <button id="sendButton" type="button" class="send-btn">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
                <div class="input-info">
                    <small>Press Enter to send, Shift+Enter for new line</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Navigation -->
    <div class="mobile-nav" id="mobileNav">
        <div class="mobile-nav-buttons">
            <button class="mobile-nav-btn active" data-panel="leftPanel">
                <i class="fas fa-file-pdf"></i>
                <span>PDF/Canvas</span>
            </button>
            <button class="mobile-nav-btn" data-panel="chatPanel">
                <i class="fas fa-comments"></i>
                <span>Chat</span>
            </button>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay" style="display: none;">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Processing your request...</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
